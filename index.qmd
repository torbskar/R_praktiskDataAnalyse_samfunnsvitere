# Forord {.unnumbered}

```{r}
#| label: setup-pakker
#| include: false
# Skanner alle .qmd-filer og installerer eventuelle manglende pakker
source("script/install_packages.R")
```


Denne boken er ment som en praktisk innføring i bruk av R til dataanalyse for studenter i samfunnsvitenskap. Fokuset er på *hvordan* man gjør dataanalyse i R -- fra innlesning av data, via datahåndtering og deskriptiv analyse, til statistisk modellering og visualisering.

Boken er ment å *komplettere* lærebøker i statistikk og metode, ikke erstatte dem. Statistiske begreper forklares når det er nødvendig for å forstå koden, men den grundige teoretiske behandlingen av statistikk overlates til andre lærebøker. Unntaket er kapittelet om design, tolkning og teori (Del IX), som tar opp noen viktige perspektiver på dataanalyse som sjelden presenteres samlet i andre lærebøker.

Teksten er ment som en ganske grunnleggende innføring for praktikere. Fokuset er å vise løsninger som fungerer uten for mye mikk-makk. Det er alltid flere måter å gjøre ting på, men hovedteksten dekker anbefalte løsninger basert på hensyn som effektivitet, konsistens og funksjonalitet. Boken kan også brukes som oppslagsverk.

Gjennom boken brukes varierte datasett fra ulike R-pakker, med vekt på data som er relevante for samfunnsvitenskap.


## Hvorfor R?

R er et programmeringsspråk laget spesielt for statistikk og dataanalyse. Det er gratis, åpen kildekode, og har et enormt økosystem av pakker for alt fra enkel deskriptiv statistikk til avansert maskinlæring og kartproduksjon.

En av de store forskjellene fra SPSS og Stata er at R *ikke* har muligheten for menybaserte analyser. Du kan altså ikke gjøre analyser med "pek-og-klikk". R er et programmeringsspråk, og det er viktig å lære å skrive kode for både databehandling og analyse. Dette kan virke krevende i starten, men gir betydelige fordeler: koden dokumenterer nøyaktig hva som er gjort, analyser kan reproduseres, og komplekse operasjoner kan automatiseres.


## Pakker som brukes

Boken bruker en rekke R-pakker. Tabellen nedenfor genereres automatisk ved å skanne alle kapittelfiler, og oppdateres hvis det gjøres endringer i prosjektet.

```{r}
#| label: pakkeoversikt
#| echo: false
#| message: false
pakker <- hent_prosjektpakker()

versjoner <- sapply(pakker, function(p) {
  if (p %in% rownames(installed.packages())) {
    as.character(packageVersion(p))
  } else {
    "ikke installert"
  }
})

df <- data.frame(
  Pakke   = pakker,
  Versjon = versjoner,
  row.names = NULL
)

knitr::kable(
  df,
  caption = paste0("R-pakker brukt i prosjektet (n\u00a0=\u00a0", nrow(df), ")")
)
```


## Bokens oppbygning

Boken er organisert i ni deler:

- **Del I** hjelper deg med å komme igang med R og RStudio.
- **Del II** dekker innlesning av data fra ulike formater og kilder, inkludert Stata, SPSS, Excel og SSBs statistikkbank.
- **Del III** handler om datahåndtering: tidyverse-verb, omkoding, manglende verdier, kobling av datasett og håndtering av store data.
- **Del IV** dekker deskriptiv analyse med grafikk og tabeller.
- **Del V** er den mest omfattende delen og dekker statistisk modellering: lineær regresjon med utvidelser (interaksjoner, splines, DiD, RD), diagnostikk, logistisk regresjon, marginaleffekter, og en introduksjon til prediksjon og maskinlæring.
- **Del VI** handler om statistisk tolkning: standardfeil, konfidensintervaller og p-verdier.
- **Del VII** viser hvordan man plasserer data på kart.
- **Del VIII** gir en enkel introduksjon til nettverksanalyse.
- **Del IX** tar opp viktige perspektiver på design, tolkning, teori og reproduserbarhet.
