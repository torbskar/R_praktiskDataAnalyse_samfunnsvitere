# Forskningsdesign og tolkning

```{r}
#| echo: false
invisible(Sys.setlocale(locale='no_NB.utf8'))
```

Denne boken handler primært om *hvordan* du gjør ting i R. Men det er like viktig å forstå *hva* du faktisk gjør og *hvorfor*. Statistiske analyser gir bare mening i lys av forskningsdesignet og den substansielle teorien du jobber med. I dette kapittelet diskuterer vi noen viktige prinsippelle poenger som bør ligge i bakhodet når du gjør dataanalyse.

## Observasjonsdata vs. eksperimentelle data

I samfunnsvitenskap jobber vi nesten alltid med *observasjonsdata*. Det vil si at vi observerer verden slik den er, uten å ha manipulert noe. I et *eksperiment* kan forskeren derimot kontrollere hvem som får en "behandling" og hvem som ikke får det.

Denne forskjellen har store konsekvenser for hva vi kan konkludere. I et eksperiment med tilfeldig fordeling av behandling kan vi si at forskjeller mellom gruppene *skyldes* behandlingen. Med observasjonsdata kan vi som regel ikke trekke slike slutninger like enkelt, fordi gruppene kan være forskjellige på mange andre måter enn det vi er interessert i.

Det betyr ikke at observasjonsdata er ubrukelige - det er tvert imot svært mye nyttig kunnskap vi kan trekke ut. Men vi må være bevisste på begrensningene og tolke resultatene deretter.

## Korrelasjon er ikke kausalitet

Du har garantert hørt dette utsagnet før. Men hva betyr det egentlig i praksis?

Når vi finner en statistisk sammenheng mellom to variable, betyr det at de *samvarierer*. Men det betyr ikke nødvendigvis at den ene *forårsaker* den andre. Det finnes flere grunner til at to variable kan samvariere:

1. **Kausalitet**: X forårsaker faktisk Y. For eksempel: røyking forårsaker lungekreft.
2. **Omvendt kausalitet**: Y forårsaker X. For eksempel: dårlig helse (Y) kan føre til lavere inntekt (X), ikke bare omvendt.
3. **Felles bakenforliggende årsak (confounding)**: En tredje variabel Z påvirker *både* X og Y. For eksempel: fysisk aktivitet (X) og god helse (Y) kan begge påvirkes av sosioøkonomisk bakgrunn (Z).
4. **Tilfeldig samvariasjon**: Med nok variable vil noen alltid korrelere tilfeldig.

I observasjonsstudier er det spesielt *confounding* som er den store utfordringen. Det er dette vi prøver å håndtere med kontrollvariable i regresjonsanalyser (se kapittelet om kontrollvariable), men det er begrenset hva vi kan oppnå med statistiske metoder alene.

## Seleksjonsskjevhet

Seleksjonsskjevhet oppstår når utvalget vi studerer ikke er representativt for populasjonen vi er interessert i. Det kan skje på mange måter:

- **Utvalgsskjevhet**: De som svarer på en spørreundersøkelse er kanskje systematisk forskjellige fra de som ikke svarer.
- **Selvseleksjon**: Folk velger selv om de deltar i et program eller en aktivitet. De som velger å delta kan være systematisk forskjellige fra de som ikke deltar.
- **Frafall**: Deltakere faller ut av en studie, og frafallet er kanskje ikke tilfeldig.

I praksis betyr dette at vi alltid bør tenke over: hvem er det egentlig vi studerer? Og kan resultatene generaliseres til en bredere befolkning?

## Teoriens rolle

Statistiske analyser kan fortelle oss *om* det finnes en sammenheng mellom variable, og *hvor sterk* sammenhengen er. Men statistikken kan ikke fortelle oss *hvorfor* sammenhengen finnes. Det er teoriens jobb.

Teori er viktig for dataanalyse på flere måter:

1. **Velge variable**: Teori hjelper oss å bestemme hvilke variable som bør inkluderes i analysen og hvilke som bør holdes utenfor.
2. **Bestemme modellstruktur**: Bør vi inkludere interaksjonsledd? Ikke-lineære termer? Det avhenger av hva teorien sier om sammenhengen.
3. **Tolke resultater**: Et regresjonsestimat er bare et tall inntil vi legger en substansiell tolkning på det.
4. **Identifisere confounders**: Teori forteller oss hvilke bakenforliggende variable som kan forstyrre analysen.

Poenget er at god dataanalyse krever faglig forståelse av det du studerer. R er et verktøy, men det er *du* som må bruke det klokt.

## DAGer: Rettet asyklisk graf

Et nyttig verktøy for å tenke om kausale sammenhenger er *DAGer* (Directed Acyclic Graphs, eller rettede asykliske grafer). En DAG er et diagram som viser antatte kausale sammenhenger mellom variable.

```{r}
#| eval: false
#| message: false
library(ggdag)

dag <- dagify(
  Y ~ X + Z,
  X ~ Z,
  labels = c("Y" = "Lønn",
             "X" = "Utdanning",
             "Z" = "Familiebakgrunn")
)

ggdag(dag, text = FALSE, use_labels = "label") +
  theme_dag()
```

I denne DAGen ser vi at:

- Familiebakgrunn påvirker både utdanning og lønn
- Utdanning påvirker lønn
- Familiebakgrunn er en *confounding*-variabel som vi bør kontrollere for

DAGer tvinger oss til å være eksplisitte om hvilke kausale antakelser vi gjør. Det kan avsløre problemer vi ikke hadde tenkt på. Det kan også hjelpe oss å unngå å kontrollere for variable vi *ikke* bør kontrollere for (se kapittelet om kontrollvariable, avsnittet om "dårlige kontrollvariable").

For mer om DAGer anbefales å utforske pakken `dagitty` og nettressursen [daggity.net](http://www.dagitty.net/). Der kan du tegne DAGer interaktivt og få hjelp til å identifisere hvilke variable du bør kontrollere for.

## Trusler mot validitet

Validitet handler om hvorvidt vi faktisk måler og konkluderer det vi tror vi gjør. Det er vanlig å skille mellom:

### Intern validitet
Intern validitet handler om hvorvidt den observerte sammenhengen mellom X og Y faktisk reflekterer en kausal effekt. Trusler mot intern validitet inkluderer:

- **Confounding**: Uobserverte variable som påvirker både X og Y
- **Omvendt kausalitet**: Y påvirker X, ikke bare omvendt
- **Seleksjonsskjevhet**: Systematiske forskjeller mellom grupper
- **Målefeil**: Variablene måler ikke det vi tror de måler

### Ekstern validitet
Ekstern validitet handler om hvorvidt resultatene kan generaliseres til andre kontekster. Selv om en effekt er godt identifisert i én studie, er det ikke sikkert den gjelder i en annen kontekst, tidsperiode eller populasjon.

## Kvasi-eksperimentelle design

I mange tilfeller kan vi komme nærmere kausale konklusjoner selv med observasjonsdata ved å bruke smarte forskningsdesign. Dette er et stort felt, men her nevnes bare kort noen av de viktigste tilnærmingene:

- **Difference-in-differences (DiD)**: Sammenligner endringer over tid mellom en behandlingsgruppe og en kontrollgruppe. Krever antakelse om parallelle trender.
- **Regression discontinuity (RDD)**: Utnytter at en behandling tildeles basert på en terskelverdi (f.eks. aldersgrenser, poenggrenser).
- **Instrumentvariabler (IV)**: Bruker en ekstern variabel som påvirker X, men ikke Y direkte, for å estimere kausal effekt.
- **Matching**: Sammenligner individer som er like på observerbare kjennetegn, men forskjellige på behandlingsvariabelen.

Disse metodene går langt utover denne boken, men det er nyttig å vite at de finnes. Hvis du skal gjøre kausale analyser med observasjonsdata, bør du sette deg inn i minst én av disse.

## Praktiske råd

Her er noen konkrete råd for å tenke godt om forskningsdesign i din egen analyse:

1. **Vær eksplisitt om antakelser**: Skriv ned hva du antar om kausale sammenhenger. Tegn gjerne en DAG.
2. **Tenk over confounders**: Hva kan påvirke *både* X og Y? Har du kontrollert for det?
3. **Ikke overfortolke**: En statistisk signifikant sammenheng er ikke det samme som en kausal effekt.
4. **Diskuter begrensninger**: Enhver analyse har begrensninger. Det er bedre å diskutere dem åpent enn å ignorere dem.
5. **Les andres forskning**: Se hvordan andre har håndtert lignende problemstillinger. Hvilke metoder har de brukt? Hvilke kontrollvariable?
6. **Bruk teori aktivt**: La faglig teori veilede valgene dine, ikke bare statistiske kriterier.

## Oppsummering

- Observasjonsdata gir sjelden grunnlag for å trekke kausale konklusjoner direkte
- Korrelasjon skyldes ikke nødvendigvis kausalitet - confounding er en hovedutfordring
- Teori er nødvendig for å velge variable, spesifisere modeller og tolke resultater
- DAGer er et nyttig verktøy for å tenke eksplisitt om kausale sammenhenger
- Det finnes kvasi-eksperimentelle metoder som kan styrke kausale slutninger
- God dataanalyse krever faglig forståelse - R er verktøyet, men du må bruke det klokt
